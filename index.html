<!DOCTYPE html>

<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø­Ø±Ø¨">
    <meta name="theme-color" content="#667eea">
    <meta name="description" content="Ø­Ø§Ø³Ø¨Ø© Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù‚ØªØ§Ù„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© - Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø£Ø®ÙŠØ±Ø©">
    <title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø£Ø®ÙŠØ±Ø©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

```
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        overflow-x: hidden;
        scroll-behavior: smooth;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        overflow: hidden;
    }

    .header {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 30px;
        text-align: center;
    }

    .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .type-info {
        background: rgba(255,255,255,0.2);
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
        font-size: 0.9em;
    }

    .main-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        padding: 30px;
    }

    .card {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .card h2 {
        color: #333;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 3px solid #667eea;
        font-size: 1.5em;
    }

    .attacker h2 {
        border-color: #f5576c;
    }

    .defender h2 {
        border-color: #4facfe;
    }

    .input-group {
        margin-bottom: 20px;
        position: relative;
    }

    label {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
        color: #555;
        font-weight: 600;
        font-size: 0.95em;
    }

    .help-icon {
        display: inline-block;
        width: 18px;
        height: 18px;
        background: #667eea;
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 18px;
        font-size: 12px;
        margin-right: 8px;
        cursor: help;
        position: relative;
    }

    .tooltip {
        visibility: hidden;
        position: absolute;
        background: #333;
        color: white;
        padding: 10px 15px;
        border-radius: 8px;
        font-size: 0.85em;
        font-weight: normal;
        width: 250px;
        bottom: 100%;
        right: 0;
        margin-bottom: 8px;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        line-height: 1.4;
    }

    .tooltip::after {
        content: "";
        position: absolute;
        top: 100%;
        right: 10px;
        border: 6px solid transparent;
        border-top-color: #333;
    }

    .help-icon:hover .tooltip,
    .help-icon:active .tooltip,
    .help-icon:focus .tooltip {
        visibility: visible;
    }

    input[type="text"], input[type="number"], select {
        width: 100%;
        padding: 14px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s;
        background: white;
        -webkit-appearance: none;
        appearance: none;
    }
    
    /* Ù…Ù†Ø¹ Ø§Ù„Ø²ÙˆÙ… Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ iOS */
    @supports (-webkit-touch-callout: none) {
        input[type="text"],
        input[type="number"],
        select {
            font-size: 16px;
        }
    }

    input:focus, select:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    select {
        cursor: pointer;
        font-weight: 600;
    }

    .star-selector {
        display: flex;
        gap: 10px;
        margin-top: 10px;
    }

    .star-option {
        flex: 1;
        padding: 12px 8px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 8px;
        cursor: pointer;
        text-align: center;
        transition: all 0.3s;
        min-height: 70px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
    }

    .star-option:hover,
    .star-option:active {
        border-color: #667eea;
        transform: translateY(-2px);
    }

    .star-option.selected {
        background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
        border-color: #ffd700;
        font-weight: bold;
    }

    .star-option .stars {
        font-size: 1.2em;
        margin-bottom: 5px;
    }

    .star-option .bonus {
        font-size: 0.85em;
        color: #28a745;
        font-weight: bold;
    }

    .preview-box {
        background: white;
        padding: 12px;
        border-radius: 8px;
        margin-top: 8px;
        border: 2px dashed #667eea;
        font-size: 0.9em;
        color: #555;
    }

    .preview-box strong {
        color: #667eea;
    }

    .skill-type-selector {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-top: 10px;
    }

    .skill-type-btn {
        padding: 15px 12px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 8px;
        cursor: pointer;
        text-align: center;
        transition: all 0.3s;
        font-size: 0.95em;
        min-height: 75px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
    }

    .skill-type-btn:hover,
    .skill-type-btn:active {
        border-color: #667eea;
    }

    .skill-type-btn.selected {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-color: #667eea;
        font-weight: bold;
    }

    .skill-type-btn .percent {
        font-size: 1.2em;
        font-weight: bold;
        display: block;
        margin-top: 5px;
    }

    .button-container {
        grid-column: 1 / -1;
        text-align: center;
        margin-top: 10px;
    }

    button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 50px;
        font-size: 1.2em;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        font-weight: bold;
    }

    button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    .results {
        grid-column: 1 / -1;
        margin-top: 20px;
    }

    .result-card {
        background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .result-card h3 {
        color: #333;
        margin-bottom: 15px;
        font-size: 1.3em;
    }

    .type-advantage {
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        text-align: center;
        font-size: 1.1em;
    }

    .type-advantage.advantage {
        background: #d4edda;
        border: 2px solid #28a745;
        color: #155724;
    }

    .type-advantage.disadvantage {
        background: #f8d7da;
        border: 2px solid #dc3545;
        color: #721c24;
    }

    .type-advantage.neutral {
        background: #fff3cd;
        border: 2px solid #ffc107;
        color: #856404;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }

    .stat-item {
        background: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .stat-label {
        color: #666;
        font-size: 0.9em;
        margin-bottom: 5px;
    }

    .stat-value {
        color: #333;
        font-size: 1.5em;
        font-weight: bold;
    }

    .skill-damage-display {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .skill-damage-display h4 {
        color: #333;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #ddd;
    }

    .skill-item {
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 8px;
        border-right: 4px solid #667eea;
        background: #f8f9fa;
    }

    .skill-item.normal {
        border-right-color: #6c757d;
    }

    .skill-item.special {
        border-right-color: #fd7e14;
    }

    .skill-item.ultimate {
        border-right-color: #dc3545;
    }

    .skill-name {
        font-weight: bold;
        color: #333;
        margin-bottom: 8px;
    }

    .skill-details {
        font-size: 0.9em;
        color: #666;
    }

    .battle-log {
        background: white;
        border-radius: 10px;
        padding: 20px;
        max-height: 400px;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .battle-log h4 {
        color: #333;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #ddd;
    }

    .log-entry {
        padding: 10px;
        margin-bottom: 8px;
        border-radius: 8px;
        border-right: 4px solid #667eea;
        background: #f8f9fa;
    }

    .log-entry.critical {
        background: #fff3cd;
        border-right-color: #ffc107;
    }

    .footer {
        background: linear-gradient(135deg, #2d3436 0%, #000000 100%);
        color: white;
        padding: 30px;
        text-align: center;
        border-top: 4px solid #ffd700;
    }

    .footer-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .footer-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #ffd700;
        box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        object-fit: cover;
    }

    .footer-text {
        text-align: right;
    }

    .footer-text h3 {
        font-size: 1.5em;
        margin-bottom: 5px;
        color: #ffd700;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .footer-text p {
        font-size: 0.9em;
        color: #bbb;
        margin: 5px 0;
    }

    .footer-quote {
        margin-top: 15px;
        padding: 15px;
        background: rgba(255,255,255,0.1);
        border-radius: 10px;
        font-style: italic;
        color: #ddd;
        max-width: 600px;
        margin: 15px auto 0;
    }

    @media (max-width: 768px) {
        .main-content {
            grid-template-columns: 1fr;
            padding: 20px 15px;
        }

        .header h1 {
            font-size: 1.8em;
        }

        .type-info {
            font-size: 0.85em;
            padding: 12px;
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }

        .skill-type-selector {
            grid-template-columns: 1fr;
        }

        .tooltip {
            width: 200px;
        }

        .star-selector {
            flex-wrap: wrap;
        }

        .star-option {
            min-width: calc(33.333% - 7px);
            flex: 0 0 calc(33.333% - 7px);
        }

        .card {
            padding: 20px 15px;
        }

        button {
            width: 100%;
            padding: 18px 30px;
        }

        .footer-content {
            flex-direction: column;
            text-align: center;
        }

        .footer-text {
            text-align: center;
        }

        .footer-avatar {
            width: 70px;
            height: 70px;
        }
    }

    @media (max-width: 480px) {
        .header h1 {
            font-size: 1.5em;
        }

        .star-option {
            min-width: calc(50% - 5px);
            flex: 0 0 calc(50% - 5px);
        }

        .star-option .stars {
            font-size: 1em;
        }

        .star-option .bonus {
            font-size: 0.75em;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš”ï¸ Ø­Ø§Ø³Ø¨Ø© Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù‚ØªØ§Ù„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© âš”ï¸</h1>
            <p>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø£Ø®ÙŠØ±Ø© - Ø¥ØµØ¯Ø§Ø± ÙƒØ§Ù…Ù„</p>
            <div class="type-info">
                ğŸš€ Ø§Ù„ØµØ§Ø±ÙˆØ® ÙŠØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø·ÙŠØ§Ø±Ø© (+20%) | 
                âœˆï¸ Ø§Ù„Ø·ÙŠØ§Ø±Ø© ØªØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø¨Ø§Ø¨Ø© (+20%) | 
                ğŸŸ« Ø§Ù„Ø¯Ø¨Ø§Ø¨Ø© ØªØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ØµØ§Ø±ÙˆØ® (+20%)
            </div>
        </div>

```
    <div class="main-content">
        <!-- Ø§Ù„Ù…Ù‡Ø§Ø¬Ù… -->
        <div class="card attacker">
            <h2>ğŸ—¡ï¸ Ø§Ù„Ù…Ù‡Ø§Ø¬Ù…</h2>
            
            <div class="input-group">
                <label for="attackerType">Ù†ÙˆØ¹ Ø§Ù„ÙˆØ­Ø¯Ø©:</label>
                <select id="attackerType" onchange="updatePreview()">
                    <option value="tank">ğŸŸ« Ø¯Ø¨Ø§Ø¨Ø©</option>
                    <option value="plane">âœˆï¸ Ø·ÙŠØ§Ø±Ø©</option>
                    <option value="missile">ğŸš€ ØµØ§Ø±ÙˆØ®</option>
                </select>
            </div>

            <div class="input-group">
                <label for="attack">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù‚ÙˆØ© Ø§Ù„Ù‡Ø¬ÙˆÙ…. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨ØµÙŠØºØ©: 1000 Ø£Ùˆ 1K Ø£Ùˆ 1.5M</span>
                    </span>
                    Ù‚ÙˆØ© Ø§Ù„Ù‡Ø¬ÙˆÙ…:
                </label>
                <input type="text" id="attack" value="65.2K" oninput="updatePreview()">
                <div class="preview-box">
                    Ø§Ù„Ù‚ÙŠÙ…Ø©: <strong id="attackValue">65,200</strong>
                </div>
            </div>

            <div class="input-group">
                <label>
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù…Ø³ØªÙˆÙ‰ ØªØ±Ù‚ÙŠØ© Ø§Ù„ÙˆØ­Ø¯Ø© Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ…. ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰ ÙŠØ²ÙŠØ¯ Ø§Ù„Ø¶Ø±Ø± Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ</span>
                    </span>
                    Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ±Ù‚ÙŠØ©:
                </label>
                <div class="star-selector">
                    <div class="star-option selected" onclick="selectStars(0, this)">
                        <div class="stars">â­</div>
                        <div class="bonus">+30%</div>
                    </div>
                    <div class="star-option" onclick="selectStars(1, this)">
                        <div class="stars">â­â­</div>
                        <div class="bonus">+70%</div>
                    </div>
                    <div class="star-option" onclick="selectStars(2, this)">
                        <div class="stars">â­â­â­</div>
                        <div class="bonus">+120%</div>
                    </div>
                    <div class="star-option" onclick="selectStars(3, this)">
                        <div class="stars">â­â­â­â­</div>
                        <div class="bonus">+185%</div>
                    </div>
                    <div class="star-option" onclick="selectStars(4, this)">
                        <div class="stars">â­â­â­â­â­</div>
                        <div class="bonus">+270%</div>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label>
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©. ÙƒÙ„ Ù…Ù‡Ø§Ø±Ø© Ù„Ù‡Ø§ Ù†Ø³Ø¨Ø© Ø¶Ø±Ø± Ù…Ø®ØªÙ„ÙØ© Ù…Ù† Ø§Ù„Ù‡Ø¬ÙˆÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</span>
                    </span>
                    Ù†ÙˆØ¹ Ø§Ù„Ù…Ù‡Ø§Ø±Ø©:
                </label>
                <div class="skill-type-selector">
                    <div class="skill-type-btn selected" onclick="selectSkill(0, this)">
                        âš”ï¸ Ø¹Ø§Ø¯ÙŠØ©
                        <span class="percent">100%</span>
                    </div>
                    <div class="skill-type-btn" onclick="selectSkill(1, this)">
                        ğŸ”¥ Ø®Ø§ØµØ©
                        <span class="percent">345%</span>
                    </div>
                    <div class="skill-type-btn" onclick="selectSkill(2, this)">
                        ğŸ’¥ Ù†Ù‡Ø§Ø¦ÙŠØ©
                        <span class="percent">605%</span>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label for="critChance">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ø­Ø¯ÙˆØ« Ø¶Ø±Ø¨Ø© Ø­Ø±Ø¬Ø©</span>
                    </span>
                    Ù†Ø³Ø¨Ø© Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ø­Ø±Ø¬Ø© (%):
                </label>
                <input type="number" id="critChance" value="20" min="0" max="100" oninput="updatePreview()">
            </div>

            <div class="input-group">
                <label for="critDamage">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù‚ÙˆØ© Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ø­Ø±Ø¬Ø© ÙƒÙ†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</span>
                    </span>
                    Ø¶Ø±Ø± Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ø­Ø±Ø¬Ø© (%):
                </label>
                <input type="number" id="critDamage" value="150" min="100" max="500" oninput="updatePreview()">
            </div>
        </div>

        <!-- Ø§Ù„Ù…Ø¯Ø§ÙØ¹ -->
        <div class="card defender">
            <h2>ğŸ›¡ï¸ Ø§Ù„Ù…Ø¯Ø§ÙØ¹</h2>
            
            <div class="input-group">
                <label for="defenderType">Ù†ÙˆØ¹ Ø§Ù„ÙˆØ­Ø¯Ø©:</label>
                <select id="defenderType" onchange="updatePreview()">
                    <option value="tank">ğŸŸ« Ø¯Ø¨Ø§Ø¨Ø©</option>
                    <option value="plane">âœˆï¸ Ø·ÙŠØ§Ø±Ø©</option>
                    <option value="missile">ğŸš€ ØµØ§Ø±ÙˆØ®</option>
                </select>
            </div>

            <div class="input-group">
                <label for="health">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù†Ù‚Ø§Ø· Ø­ÙŠØ§Ø© Ø§Ù„ÙˆØ­Ø¯Ø©. ØµÙŠØºØ© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„: 1000 Ø£Ùˆ 1K Ø£Ùˆ 1.4M</span>
                    </span>
                    Ù†Ù‚Ø§Ø· Ø§Ù„ØµØ­Ø©:
                </label>
                <input type="text" id="health" value="1.4M" oninput="updatePreview()">
                <div class="preview-box">
                    Ø§Ù„Ù‚ÙŠÙ…Ø©: <strong id="healthValue">1,400,000</strong>
                </div>
            </div>

            <div class="input-group">
                <label for="defense">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù‚ÙˆØ© Ø§Ù„Ø¯ÙØ§Ø¹ ØªÙØ·Ø±Ø­ Ù…Ù† Ù‡Ø¬ÙˆÙ… Ø§Ù„Ø¹Ø¯Ùˆ</span>
                    </span>
                    Ù‚ÙˆØ© Ø§Ù„Ø¯ÙØ§Ø¹:
                </label>
                <input type="text" id="defense" value="8.4K" oninput="updatePreview()">
                <div class="preview-box">
                    Ø§Ù„Ù‚ÙŠÙ…Ø©: <strong id="defenseValue">8,400</strong>
                </div>
            </div>

            <div class="input-group">
                <label for="resistance">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ù†Ø³Ø¨Ø© ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¶Ø±Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</span>
                    </span>
                    Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© (%):
                </label>
                <input type="number" id="resistance" value="10" min="0" max="100" oninput="updatePreview()">
                <div class="preview-box">
                    ØªØ³ØªÙ‚Ø¨Ù„ <strong id="resPreview">90</strong>% Ù…Ù† Ø§Ù„Ø¶Ø±Ø±
                </div>
            </div>

            <div class="input-group" id="enemyCountGroup" style="display: none;">
                <label for="enemyCount">
                    <span class="help-icon">ØŸ
                        <span class="tooltip">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡ Ù„Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù)</span>
                    </span>
                    Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡:
                </label>
                <input type="number" id="enemyCount" value="3" min="1" max="10" oninput="updatePreview()">
            </div>
        </div>

        <!-- Ø²Ø± Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© -->
        <div class="button-container">
            <button onclick="simulateBattle()">ğŸ¯ Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©</button>
        </div>

        <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
        <div class="results" id="results" style="display: none;">
            <div class="result-card">
                <div id="typeAdvantageDisplay"></div>
                
                <div class="skill-damage-display">
                    <h4>ğŸ’« Ø¶Ø±Ø± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h4>
                    <div id="skillDamageList"></div>
                </div>

                <h3>ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø¶Ø±Ø¨Ø§Øª</div>
                        <div class="stat-value" id="totalHits">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ø§Ù„Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ø­Ø±Ø¬Ø©</div>
                        <div class="stat-value" id="criticalHits">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¶Ø±Ø±</div>
                        <div class="stat-value" id="totalDamage">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¶Ø±Ø±</div>
                        <div class="stat-value" id="avgDamage">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù†ÙˆØ¹</div>
                        <div class="stat-value" id="typeModifier">Ã—1.0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„ØªØ±Ù‚ÙŠØ©</div>
                        <div class="stat-value" id="upgradeModifier">+30%</div>
                    </div>
                </div>

                <div class="battle-log">
                    <h4>ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø±ÙƒØ©</h4>
                    <div id="battleLog"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <img src="https://i.pinimg.com/736x/d0/f6/36/d0f636b1d0308c95b4ffcc75c3df88bc.jpg" alt="Jiraiya" class="footer-avatar">
            <div class="footer-text">
                <h3>DistopÇa - 1930</h3>
                <p>ğŸ® Ù…Ø·ÙˆØ± Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</p>
                <p>âš”ï¸ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø£Ø®ÙŠØ±Ø©</p>
            </div>
        </div>
        <div class="footer-quote">
            "Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ø§ ØªØ£ØªÙŠ Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·ØŒ Ø¨Ù„ Ù…Ù† Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙˆØ§Ù„ØªØ®Ø·ÙŠØ·"
        </div>
    </div>
</div>

<script>
    let selectedStarLevel = 0;
    let selectedSkillType = 0;
    const starBonuses = [0.30, 0.70, 1.20, 1.85, 2.70];
    const skillMultipliers = [1.0, 3.45, 6.05];
    const skillNames = ['Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©', 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø®Ø§ØµØ©', 'Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©'];

    function parseValue(str) {
        if (!str) return 0;
        str = String(str).toUpperCase().trim();
        
        if (str.includes('M')) {
            return parseFloat(str.replace('M', '')) * 1000000;
        } else if (str.includes('K')) {
            return parseFloat(str.replace('K', '')) * 1000;
        }
        return parseFloat(str.replace(/,/g, '')) || 0;
    }

    function formatNumber(num) {
        return num.toLocaleString('en-US');
    }

    function formatValue(num) {
        if (num >= 1000000) {
            return (num / 1000000).toFixed(2) + 'M';
        } else if (num >= 1000) {
            return (num / 1000).toFixed(1) + 'K';
        }
        return num.toString();
    }

    function selectStars(level, element) {
        selectedStarLevel = level;
        document.querySelectorAll('.star-option').forEach(el => el.classList.remove('selected'));
        element.classList.add('selected');
        updatePreview();
    }

    function selectSkill(type, element) {
        selectedSkillType = type;
        document.querySelectorAll('.skill-type-btn').forEach(el => el.classList.remove('selected'));
        element.classList.add('selected');
        
        // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø­Ù‚Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡ Ù„Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
        document.getElementById('enemyCountGroup').style.display = type === 2 ? 'block' : 'none';
        updatePreview();
    }

    function getTypeModifier(attackerType, defenderType) {
        const advantages = {
            'tank': 'missile',
            'plane': 'tank',
            'missile': 'plane'
        };

        const disadvantages = {
            'tank': 'plane',
            'plane': 'missile',
            'missile': 'tank'
        };

        if (advantages[attackerType] === defenderType) {
            return { modifier: 1.2, text: 'ØªÙÙˆÙ‚ Ù†ÙˆØ¹ Ø§Ù„ÙˆØ­Ø¯Ø©! Ø¶Ø±Ø± Ø¥Ø¶Ø§ÙÙŠ +20%', type: 'advantage' };
        } else if (disadvantages[attackerType] === defenderType) {
            return { modifier: 0.8, text: 'Ø¶Ø¹Ù Ù†ÙˆØ¹ Ø§Ù„ÙˆØ­Ø¯Ø©! Ø¶Ø±Ø± Ù…Ø®ÙØ¶ -20%', type: 'disadvantage' };
        } else {
            return { modifier: 1.0, text: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙŠØ²Ø© Ø£Ùˆ Ø¶Ø¹Ù ÙÙŠ Ø§Ù„Ù†ÙˆØ¹', type: 'neutral' };
        }
    }

    function getUnitName(type) {
        const names = {
            'tank': 'ğŸŸ« Ø¯Ø¨Ø§Ø¨Ø©',
            'plane': 'âœˆï¸ Ø·ÙŠØ§Ø±Ø©',
            'missile': 'ğŸš€ ØµØ§Ø±ÙˆØ®'
        };
        return names[type];
    }

    function updatePreview() {
        const attack = parseValue(document.getElementById('attack').value);
        const defense = parseValue(document.getElementById('defense').value);
        const health = parseValue(document.getElementById('health').value);
        const resistance = parseFloat(document.getElementById('resistance').value) || 0;

        document.getElementById('attackValue').textContent = formatNumber(attack);
        document.getElementById('defenseValue').textContent = formatNumber(defense);
        document.getElementById('healthValue').textContent = formatNumber(health);
        document.getElementById('resPreview').textContent = 100 - resistance;
    }

    function calculateSkillDamage(baseAttack, defense, typeModifier, upgradeBonus, skillMultiplier, resistance) {
        let damage = baseAttack - defense;
        damage = damage * (1 + upgradeBonus);
        damage = damage * skillMultiplier;
        damage = damage * typeModifier;
        damage = damage * (1 - resistance / 100);
        return Math.max(1, Math.round(damage));
    }

    function simulateBattle() {
        const attackerType = document.getElementById('attackerType').value;
        const defenderType = document.getElementById('defenderType').value;
        
        const attack = parseValue(document.getElementById('attack').value);
        const critChance = parseFloat(document.getElementById('critChance').value) / 100;
        const critDamage = parseFloat(document.getElementById('critDamage').value) / 100;
        
        let health = parseValue(document.getElementById('health').value);
        const defense = parseValue(document.getElementById('defense').value);
        const resistance = parseFloat(document.getElementById('resistance').value);

        if (attack <= 0 || health <= 0) {
            alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ… ØµØ­ÙŠØ­Ø© Ù„Ù„Ù‡Ø¬ÙˆÙ… ÙˆØ§Ù„ØµØ­Ø©!');
            return;
        }

        const typeInfo = getTypeModifier(attackerType, defenderType);
        const upgradeBonus = starBonuses[selectedStarLevel];
        const skillMultiplier = skillMultipliers[selectedSkillType];

        // Ø­Ø³Ø§Ø¨ Ø¶Ø±Ø± ÙƒÙ„ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        const skillDamages = [];
        for (let i = 0; i < 3; i++) {
            const damage = calculateSkillDamage(attack, defense, typeInfo.modifier, upgradeBonus, skillMultipliers[i], resistance);
            const critDmg = Math.round(damage * critDamage);
            skillDamages.push({
                name: skillNames[i],
                normal: damage,
                critical: critDmg,
                multiplier: skillMultipliers[i]
            });
        }

        // Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©
        let turn = 0;
        let totalDamage = 0;
        let criticalHits = 0;
        const battleLog = [];

        const damagePerHit = calculateSkillDamage(attack, defense, typeInfo.modifier, upgradeBonus, skillMultiplier, resistance);

        while (health > 0) {
            turn++;
            
            const isCritical = Math.random() < critChance;
            let damage = isCritical ? Math.round(damagePerHit * critDamage) : damagePerHit;
            
            if (isCritical) criticalHits++;
            
            health -= damage;
            totalDamage += damage;
            
            battleLog.push({
                turn: turn,
                damage: damage,
                isCritical: isCritical,
                remainingHealth: Math.max(0, health)
            });

            if (turn > 10000) {
                alert('âš ï¸ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹!');
                return;
            }
        }

        displayResults(turn, criticalHits, totalDamage, battleLog, typeInfo, attackerType, defenderType, upgradeBonus, skillDamages);
    }

    function displayResults(totalHits, criticalHits, totalDamage, battleLog, typeInfo, attackerType, defenderType, upgradeBonus, skillDamages) {
        const avgDamage = (totalDamage / totalHits).toFixed(2);

        const typeDisplay = document.getElementById('typeAdvantageDisplay');
        typeDisplay.className = `type-advantage ${typeInfo.type}`;
        typeDisplay.innerHTML = `
            <strong>${getUnitName(attackerType)} Ø¶Ø¯ ${getUnitName(defenderType)}</strong><br>
            ${typeInfo.text}
        `;

        // Ø¹Ø±Ø¶ Ø¶Ø±Ø± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        const skillList = document.getElementById('skillDamageList');
        skillList.innerHTML = '';
        
        const skillClasses = ['normal', 'special', 'ultimate'];
        const skillIcons = ['âš”ï¸', 'ğŸ”¥', 'ğŸ’¥'];
        
        skillDamages.forEach((skill, index) => {
            const skillItem = document.createElement('div');
            skillItem.className = `skill-item ${skillClasses[index]}`;
            
            let content = `
                <div class="skill-name">${skillIcons[index]} ${skill.name} (${(skill.multiplier * 100).toFixed(0)}%)</div>
                <div class="skill-details">
                    Ø¶Ø±Ø± Ø¹Ø§Ø¯ÙŠ: <strong>${formatNumber(skill.normal)}</strong> | 
                    Ø¶Ø±Ø± Ø­Ø±Ø¬: <strong>${formatNumber(skill.critical)}</strong>
                </div>
            `;
            
            // Ù„Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© - Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¶Ø±Ø± Ø§Ù„ÙƒÙ„ÙŠ Ø¹Ù„Ù‰ Ø¹Ø¯Ø© Ø£Ø¹Ø¯Ø§Ø¡
            if (index === 2) {
                const enemyCount = parseInt(document.getElementById('enemyCount').value) || 3;
                const totalNormal = skill.normal * enemyCount;
                const totalCrit = skill.critical * enemyCount;
                content += `
                    <div class="skill-details" style="margin-top: 8px; color: #dc3545; font-weight: bold;">
                        Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¶Ø±Ø± (Ã—${enemyCount} Ø£Ø¹Ø¯Ø§Ø¡): ${formatNumber(totalNormal)} Ø¹Ø§Ø¯ÙŠ | ${formatNumber(totalCrit)} Ø­Ø±Ø¬
                    </div>
                `;
            }
            
            skillItem.innerHTML = content;
            skillList.appendChild(skillItem);
        });

        document.getElementById('totalHits').textContent = formatNumber(totalHits);
        document.getElementById('criticalHits').textContent = formatNumber(criticalHits);
        document.getElementById('totalDamage').textContent = formatValue(totalDamage);
        document.getElementById('avgDamage').textContent = formatValue(parseFloat(avgDamage));
        document.getElementById('typeModifier').textContent = `Ã—${typeInfo.modifier.toFixed(1)}`;
        document.getElementById('upgradeModifier').textContent = `+${(upgradeBonus * 100).toFixed(0)}%`;

        const logContainer = document.getElementById('battleLog');
        logContainer.innerHTML = '';

        const displayLog = battleLog.length > 50 ? battleLog.slice(-50) : battleLog;
        
        displayLog.forEach(entry => {
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${entry.isCritical ? 'critical' : ''}`;
            logEntry.innerHTML = `
                <span style="font-weight: bold; color: #667eea;">Ø§Ù„Ø¯ÙˆØ± ${entry.turn}:</span>
                ${entry.isCritical ? 'ğŸ’¥ Ø¶Ø±Ø¨Ø© Ø­Ø±Ø¬Ø©!' : 'âš”ï¸'} 
                Ø¶Ø±Ø±: <strong>${formatNumber(entry.damage)}</strong> | 
                Ø§Ù„ØµØ­Ø©: <strong>${formatValue(entry.remainingHealth)}</strong>
            `;
            logContainer.appendChild(logEntry);
        });

        document.getElementById('results').style.display = 'block';
        document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }

    updatePreview();
    
    // ØªÙØ¹ÙŠÙ„ tooltips Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„
    document.querySelectorAll('.help-icon').forEach(icon => {
        icon.addEventListener('click', function(e) {
            e.preventDefault();
            const tooltip = this.querySelector('.tooltip');
            tooltip.style.visibility = tooltip.style.visibility === 'visible' ? 'hidden' : 'visible';
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                tooltip.style.visibility = 'hidden';
            }, 3000);
        });
    });
</script>
```

</body>
</html>
